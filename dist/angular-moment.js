Angular.module("ngMoment", []);
var MomentModule;
(function (MomentModule) {
    var DateRangeFilter = (function () {
        function DateRangeFilter() {
        }
        DateRangeFilter.prototype.filter = function (start, end, options) {
            if (start == null)
                return null;
            if (!options)
                options = {};
            var mStart = moment(start);
            var mEnd = moment(end);
            if (mStart.isSame(mEnd))
                mEnd = mEnd.add(1, 'millisecond'); // bug in twix
            return mStart.twix(mEnd, options.allDay).format(options);
        };
        return DateRangeFilter;
    }());
    Angular.module("ngMoment").filter('daterange', DateRangeFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var DaysAgoFilter = (function () {
        function DaysAgoFilter() {
            this.today = moment().startOf('day');
        }
        DaysAgoFilter.prototype.filter = function (date) {
            var compDate = moment(date);
            if (compDate.diff(this.today, 'days') === 0)
                return 'today';
            return compDate.from(this.today);
        };
        return DaysAgoFilter;
    }());
    Angular.module("ngMoment").filter('daysago', DaysAgoFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var MomentFilter = (function () {
        function MomentFilter() {
        }
        MomentFilter.prototype.filter = function (date, format, pattern) {
            if (date == null)
                return "no date";
            return moment(date, pattern).format(format);
        };
        return MomentFilter;
    }());
    Angular.module("ngMoment").filter('moment', MomentFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var TimeAgoFilter = (function () {
        function TimeAgoFilter() {
        }
        TimeAgoFilter.prototype.filter = function (date) {
            return moment(date).fromNow();
        };
        return TimeAgoFilter;
    }());
    Angular.module("ngMoment").filter('timeago', TimeAgoFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var TimeRangeFilter = (function () {
        function TimeRangeFilter() {
        }
        TimeRangeFilter.prototype.filter = function (start, end, options) {
            if (start == null)
                return null;
            if (!options)
                options = {};
            options.hideDate = true;
            var mStart = this.getMoment(start);
            var mEnd = this.getMoment(end);
            if (mStart.isSame(mEnd))
                mEnd = mEnd.add(1, 'millisecond'); // bug in twix
            return mStart.twix(mEnd, options.allDay).format(options);
        };
        TimeRangeFilter.prototype.getMoment = function (value) {
            var m = (value instanceof Date) ? moment(value.getTime()) : moment(value, "HH:mm:ss");
            return m;
        };
        return TimeRangeFilter;
    }());
    Angular.module("ngMoment").filter('timerange', TimeRangeFilter);
})(MomentModule || (MomentModule = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1tb21lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvYXBwLnRzIiwiLi4vc3JjL2RhdGUtcmFuZ2UudHMiLCIuLi9zcmMvZGF5cy1hZ28udHMiLCIuLi9zcmMvbW9tZW50LnRzIiwiLi4vc3JjL3RpbWUtYWdvLnRzIiwiLi4vc3JjL3RpbWUtcmFuZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7QUNBL0IsSUFBTyxZQUFZLENBc0JsQjtBQXRCRCxXQUFPLFlBQVksRUFBQyxDQUFDO0lBS2pCO1FBQUE7UUFjQSxDQUFDO1FBYkcsZ0NBQU0sR0FBTixVQUFPLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTztZQUN0QixFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDO2dCQUNkLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFFaEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7Z0JBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUUzQixJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLGNBQWM7WUFFckQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNMLHNCQUFDO0lBQUQsQ0FBQyxBQWRELElBY0M7SUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FB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QUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsY0FBYztZQUVyRCxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM3RCxDQUFDO1FBRUQsbUNBQVMsR0FBVCxVQUFVLEtBQUs7WUFDWCxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssWUFBWSxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN0RixNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2IsQ0FBQztRQUNMLHNCQUFDO0lBQUQsQ0FBQyxBQXJCRCxJQXFCQztJQUVELE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUNwRSxDQUFDLEVBN0JNLFlBQVksS0FBWixZQUFZLFFBNkJsQiIsInNvdXJjZXNDb250ZW50IjpbIkFuZ3VsYXIubW9kdWxlKFwibmdNb21lbnRcIiwgW10pOyIsIm1vZHVsZSBNb21lbnRNb2R1bGUge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRGF0ZVJhbmdlRmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoc3RhcnQ6IGFueSwgZW5kOiBhbnksIG9wdGlvbnM/OiBhbnkpOiBzdHJpbmdcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBEYXRlUmFuZ2VGaWx0ZXIgaW1wbGVtZW50cyBJRGF0ZVJhbmdlRmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoc3RhcnQsIGVuZCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoc3RhcnQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XHJcblxyXG4gICAgICAgICAgICB2YXIgbVN0YXJ0ID0gbW9tZW50KHN0YXJ0KTtcclxuICAgICAgICAgICAgdmFyIG1FbmQgPSBtb21lbnQoZW5kKTtcclxuICAgICAgICAgICAgaWYgKG1TdGFydC5pc1NhbWUobUVuZCkpXHJcbiAgICAgICAgICAgICAgICBtRW5kID0gbUVuZC5hZGQoMSwgJ21pbGxpc2Vjb25kJyk7IC8vIGJ1ZyBpbiB0d2l4XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIG1TdGFydC50d2l4KG1FbmQsIG9wdGlvbnMuYWxsRGF5KS5mb3JtYXQob3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEFuZ3VsYXIubW9kdWxlKFwibmdNb21lbnRcIikuZmlsdGVyKCdkYXRlcmFuZ2UnLCBEYXRlUmFuZ2VGaWx0ZXIpO1xyXG59IiwibW9kdWxlIE1vbWVudE1vZHVsZSB7XHJcbiAgICBjbGFzcyBEYXlzQWdvRmlsdGVyIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgdGhpcy50b2RheSA9IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdG9kYXk7XHJcblxyXG4gICAgICAgIGZpbHRlcihkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wRGF0ZSA9IG1vbWVudChkYXRlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb21wRGF0ZS5kaWZmKHRoaXMudG9kYXksICdkYXlzJykgPT09IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvZGF5JztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb21wRGF0ZS5mcm9tKHRoaXMudG9kYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBBbmd1bGFyLm1vZHVsZShcIm5nTW9tZW50XCIpLmZpbHRlcignZGF5c2FnbycsIERheXNBZ29GaWx0ZXIpO1xyXG59IiwibW9kdWxlIE1vbWVudE1vZHVsZSB7XHJcbiAgICBjbGFzcyBNb21lbnRGaWx0ZXIge1xyXG4gICAgICAgIGZpbHRlcihkYXRlLCBmb3JtYXQsIHBhdHRlcm4pIHtcclxuICAgICAgICAgICAgaWYgKGRhdGUgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIm5vIGRhdGVcIjtcclxuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlLCBwYXR0ZXJuKS5mb3JtYXQoZm9ybWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQW5ndWxhci5tb2R1bGUoXCJuZ01vbWVudFwiKS5maWx0ZXIoJ21vbWVudCcsIE1vbWVudEZpbHRlcik7XHJcbn0iLCJtb2R1bGUgTW9tZW50TW9kdWxlIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVRpbWVBZ29GaWx0ZXIge1xyXG4gICAgICAgIGZpbHRlcihkYXRlOiBhbnkpOiBzdHJpbmdcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBUaW1lQWdvRmlsdGVyIGltcGxlbWVudHMgSVRpbWVBZ29GaWx0ZXIge1xyXG4gICAgICAgIGZpbHRlcihkYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZnJvbU5vdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBBbmd1bGFyLm1vZHVsZShcIm5nTW9tZW50XCIpLmZpbHRlcigndGltZWFnbycsIFRpbWVBZ29GaWx0ZXIpO1xyXG59IiwibW9kdWxlIE1vbWVudE1vZHVsZSB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElUaW1lUmFuZ2VGaWx0ZXIge1xyXG4gICAgICAgIGZpbHRlcihzdGFydDogYW55LCBlbmQ6IGFueSwgb3B0aW9ucz86IGFueSk6IHN0cmluZ1xyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIFRpbWVSYW5nZUZpbHRlciBpbXBsZW1lbnRzIElUaW1lUmFuZ2VGaWx0ZXIge1xyXG4gICAgICAgIGZpbHRlcihzdGFydCwgZW5kLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFydCA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgb3B0aW9ucy5oaWRlRGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB2YXIgbVN0YXJ0ID0gdGhpcy5nZXRNb21lbnQoc3RhcnQpO1xyXG4gICAgICAgICAgICB2YXIgbUVuZCA9IHRoaXMuZ2V0TW9tZW50KGVuZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobVN0YXJ0LmlzU2FtZShtRW5kKSlcclxuICAgICAgICAgICAgICAgIG1FbmQgPSBtRW5kLmFkZCgxLCAnbWlsbGlzZWNvbmQnKTsgLy8gYnVnIGluIHR3aXhcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBtU3RhcnQudHdpeChtRW5kLCBvcHRpb25zLmFsbERheSkuZm9ybWF0KG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0TW9tZW50KHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgPyBtb21lbnQodmFsdWUuZ2V0VGltZSgpKSA6IG1vbWVudCh2YWx1ZSwgXCJISDptbTpzc1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEFuZ3VsYXIubW9kdWxlKFwibmdNb21lbnRcIikuZmlsdGVyKCd0aW1lcmFuZ2UnLCBUaW1lUmFuZ2VGaWx0ZXIpO1xyXG59Il19