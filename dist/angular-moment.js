Angular.module("ngMoment", []);
var MomentModule;
(function (MomentModule) {
    var DateRangeFilter = (function () {
        function DateRangeFilter() {
        }
        DateRangeFilter.prototype.filter = function (start, end, options) {
            if (start == null)
                return null;
            if (!options)
                options = {};
            var mStart = moment(start);
            var mEnd = moment(end);
            if (mStart.isSame(mEnd))
                mEnd = mEnd.add(1, 'millisecond'); // bug in twix
            return mStart.twix(mEnd, options.allDay).format(options);
        };
        return DateRangeFilter;
    }());
    Angular.module("ngMoment").filter('daterange', DateRangeFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var DaysAgoFilter = (function () {
        function DaysAgoFilter() {
            this.today = moment().startOf('day');
        }
        DaysAgoFilter.prototype.filter = function (date) {
            var compDate = moment(date);
            if (compDate.diff(this.today, 'days') === 0)
                return 'today';
            return compDate.from(this.today);
        };
        return DaysAgoFilter;
    }());
    Angular.module("ngMoment").filter('daysago', DaysAgoFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var MomentFilter = (function () {
        function MomentFilter() {
        }
        MomentFilter.prototype.filter = function (date, format, pattern) {
            if (date == null)
                return "no date";
            return moment(date, pattern).format(format);
        };
        return MomentFilter;
    }());
    Angular.module("ngMoment").filter('moment', MomentFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var TimeAgoFilter = (function () {
        function TimeAgoFilter() {
        }
        TimeAgoFilter.prototype.filter = function (date) {
            return moment(date).fromNow();
        };
        return TimeAgoFilter;
    }());
    Angular.module("ngMoment").filter('timeago', TimeAgoFilter);
})(MomentModule || (MomentModule = {}));
var MomentModule;
(function (MomentModule) {
    var TimeRangeFilter = (function () {
        function TimeRangeFilter() {
        }
        TimeRangeFilter.prototype.filter = function (start, end, options) {
            if (start == null || end == null)
                return "";
            if (!options)
                options = {};
            options.hideDate = true;
            var mStart = this.getMoment(start);
            var mEnd = this.getMoment(end);
            if (mStart.isSame(mEnd))
                mEnd = mEnd.add(1, 'millisecond'); // bug in twix
            return mStart.twix(mEnd, options.allDay).format(options);
        };
        TimeRangeFilter.prototype.getMoment = function (value) {
            var isoTime = "HH:mm:ss", isoDate = "YYYY-MM-DDTHH:mm:ss";
            var m = (value instanceof Date) ? moment(value.getTime()) : moment(value, [isoDate, isoTime]);
            return m;
        };
        return TimeRangeFilter;
    }());
    Angular.module("ngMoment").filter('timerange', TimeRangeFilter);
})(MomentModule || (MomentModule = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1tb21lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvYXBwLnRzIiwiLi4vc3JjL2RhdGUtcmFuZ2UudHMiLCIuLi9zcmMvZGF5cy1hZ28udHMiLCIuLi9zcmMvbW9tZW50LnRzIiwiLi4vc3JjL3RpbWUtYWdvLnRzIiwiLi4vc3JjL3RpbWUtcmFuZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7QUNBL0IsSUFBTyxZQUFZLENBc0JsQjtBQXRCRCxXQUFPLFlBQVksRUFBQyxDQUFDO0lBS2pCO1FBQUE7UUFjQSxDQUFDO1FBYkcsZ0NBQU0sR0FBTixVQUFPLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTztZQUN0QixFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDO2dCQUNkLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFFaEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7Z0JBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztZQUUzQixJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLGNBQWM7WUFFckQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNMLHNCQUFDO0lBQUQsQ0FBQyxBQWRELElBY0M7SUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FB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O2dCQUNwQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxjQUFjO1lBRXJELE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzdELENBQUM7UUFFRCxtQ0FBUyxHQUFULFVBQVUsS0FBSztZQUNYLElBQUksT0FBTyxHQUFHLFVBQVUsRUFDcEIsT0FBTyxHQUFHLHFCQUFxQixDQUFDO1lBQ3BDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxZQUFZLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDOUYsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNiLENBQUM7UUFDTCxzQkFBQztJQUFELENBQUMsQUF2QkQsSUF1QkM7SUFFRCxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsZUFBZSxDQUFDLENBQUM7QUFDcEUsQ0FBQyxFQS9CTSxZQUFZLEtBQVosWUFBWSxRQStCbEIiLCJzb3VyY2VzQ29udGVudCI6WyJBbmd1bGFyLm1vZHVsZShcIm5nTW9tZW50XCIsIFtdKTsiLCJtb2R1bGUgTW9tZW50TW9kdWxlIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSURhdGVSYW5nZUZpbHRlciB7XHJcbiAgICAgICAgZmlsdGVyKHN0YXJ0OiBhbnksIGVuZDogYW55LCBvcHRpb25zPzogYW55KTogc3RyaW5nXHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgRGF0ZVJhbmdlRmlsdGVyIGltcGxlbWVudHMgSURhdGVSYW5nZUZpbHRlciB7XHJcbiAgICAgICAgZmlsdGVyKHN0YXJ0LCBlbmQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgaWYgKHN0YXJ0ID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdmFyIG1TdGFydCA9IG1vbWVudChzdGFydCk7XHJcbiAgICAgICAgICAgIHZhciBtRW5kID0gbW9tZW50KGVuZCk7XHJcbiAgICAgICAgICAgIGlmIChtU3RhcnQuaXNTYW1lKG1FbmQpKVxyXG4gICAgICAgICAgICAgICAgbUVuZCA9IG1FbmQuYWRkKDEsICdtaWxsaXNlY29uZCcpOyAvLyBidWcgaW4gdHdpeFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBtU3RhcnQudHdpeChtRW5kLCBvcHRpb25zLmFsbERheSkuZm9ybWF0KG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBBbmd1bGFyLm1vZHVsZShcIm5nTW9tZW50XCIpLmZpbHRlcignZGF0ZXJhbmdlJywgRGF0ZVJhbmdlRmlsdGVyKTtcclxufSIsIm1vZHVsZSBNb21lbnRNb2R1bGUge1xyXG4gICAgY2xhc3MgRGF5c0Fnb0ZpbHRlciB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9kYXkgPSBtb21lbnQoKS5zdGFydE9mKCdkYXknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRvZGF5O1xyXG5cclxuICAgICAgICBmaWx0ZXIoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgY29tcERhdGUgPSBtb21lbnQoZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29tcERhdGUuZGlmZih0aGlzLnRvZGF5LCAnZGF5cycpID09PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2RheSc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29tcERhdGUuZnJvbSh0aGlzLnRvZGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQW5ndWxhci5tb2R1bGUoXCJuZ01vbWVudFwiKS5maWx0ZXIoJ2RheXNhZ28nLCBEYXlzQWdvRmlsdGVyKTtcclxufSIsIm1vZHVsZSBNb21lbnRNb2R1bGUge1xyXG4gICAgY2xhc3MgTW9tZW50RmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoZGF0ZSwgZm9ybWF0LCBwYXR0ZXJuKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJubyBkYXRlXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSwgcGF0dGVybikuZm9ybWF0KGZvcm1hdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEFuZ3VsYXIubW9kdWxlKFwibmdNb21lbnRcIikuZmlsdGVyKCdtb21lbnQnLCBNb21lbnRGaWx0ZXIpO1xyXG59IiwibW9kdWxlIE1vbWVudE1vZHVsZSB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElUaW1lQWdvRmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoZGF0ZTogYW55KTogc3RyaW5nXHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgVGltZUFnb0ZpbHRlciBpbXBsZW1lbnRzIElUaW1lQWdvRmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoZGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZyb21Ob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQW5ndWxhci5tb2R1bGUoXCJuZ01vbWVudFwiKS5maWx0ZXIoJ3RpbWVhZ28nLCBUaW1lQWdvRmlsdGVyKTtcclxufSIsIm1vZHVsZSBNb21lbnRNb2R1bGUge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJVGltZVJhbmdlRmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoc3RhcnQ6IGFueSwgZW5kOiBhbnksIG9wdGlvbnM/OiBhbnkpOiBzdHJpbmdcclxuICAgIH1cclxuXHJcbiAgICBjbGFzcyBUaW1lUmFuZ2VGaWx0ZXIgaW1wbGVtZW50cyBJVGltZVJhbmdlRmlsdGVyIHtcclxuICAgICAgICBmaWx0ZXIoc3RhcnQsIGVuZCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoc3RhcnQgPT0gbnVsbCB8fCBlbmQgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XHJcbiAgICAgICAgICAgIG9wdGlvbnMuaGlkZURhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdmFyIG1TdGFydCA9IHRoaXMuZ2V0TW9tZW50KHN0YXJ0KTtcclxuICAgICAgICAgICAgdmFyIG1FbmQgPSB0aGlzLmdldE1vbWVudChlbmQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1TdGFydC5pc1NhbWUobUVuZCkpXHJcbiAgICAgICAgICAgICAgICBtRW5kID0gbUVuZC5hZGQoMSwgJ21pbGxpc2Vjb25kJyk7IC8vIGJ1ZyBpbiB0d2l4XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbVN0YXJ0LnR3aXgobUVuZCwgb3B0aW9ucy5hbGxEYXkpLmZvcm1hdChvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGdldE1vbWVudCh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgaXNvVGltZSA9IFwiSEg6bW06c3NcIixcclxuICAgICAgICAgICAgICAgIGlzb0RhdGUgPSBcIllZWVktTU0tRERUSEg6bW06c3NcIjtcclxuICAgICAgICAgICAgdmFyIG0gPSAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSA/IG1vbWVudCh2YWx1ZS5nZXRUaW1lKCkpIDogbW9tZW50KHZhbHVlLCBbaXNvRGF0ZSwgaXNvVGltZV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQW5ndWxhci5tb2R1bGUoXCJuZ01vbWVudFwiKS5maWx0ZXIoJ3RpbWVyYW5nZScsIFRpbWVSYW5nZUZpbHRlcik7XHJcbn0iXX0=